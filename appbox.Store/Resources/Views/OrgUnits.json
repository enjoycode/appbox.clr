{
    "Code": "var e={},t=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s};e.__esModule=!0;var n=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.bizUnitBaseType=\"11428632783249997832\",t.groupBaseType=\"11428632783249997836\",t.empBaseType=\"11428632783249997828\",t.EmploeeView=View(\"sys.EmploeeView\"),t.BizUnitView=View(\"sys.EnterpriseView\"),t.WorkgroupView=View(\"sys.WorkgroupView\"),t.orgUnitNodes=[],t.currentOrgUnit=null,t.orgUnitTreeProps={label:\"Name\",children:\"Childs\"},t.orgUnitView=null,t}return t(n,e),n.prototype.getIcon=function(e,t){return e.BaseType==this.bizUnitBaseType?\"fas fa-home\":e.BaseType==this.empBaseType?\"fas fa-user\":\"fas fa-folder\"},n.prototype.onCurrentChanged=function(e,t){this.currentOrgUnit=e,e.BaseType==this.empBaseType?this.orgUnitView=this.EmploeeView:e.BaseType==this.bizUnitBaseType?this.orgUnitView=this.BizUnitView:this.orgUnitView=this.WorkgroupView},n.prototype.onCreateWorkgroup=function(){var e=this;this.currentOrgUnit?this.currentOrgUnit.BaseType!=this.empBaseType?$runtime.channel.invoke(\"sys.OrgUnitService.NewWorkgroup\",[this.currentOrgUnit.Id]).then(function(t){t.Parent=e.currentOrgUnit,t.Parent.Childs||e.$set(t.Parent,\"Childs\",[]),t.Parent.Childs.push(t)}).catch(function(t){e.$message.error(\"新建工作组失败: \"+t)}):this.$message.error(\"请选择非员工上级节点\"):this.$message.error(\"请先选择上级节点\")},n.prototype.onCreateEmploee=function(){var e=this;this.currentOrgUnit?this.currentOrgUnit.BaseType!=this.empBaseType?$runtime.channel.invoke(\"sys.OrgUnitService.NewEmploee\",[this.currentOrgUnit.Id]).then(function(t){t.Parent=e.currentOrgUnit,t.Parent.Childs||e.$set(t.Parent,\"Childs\",[]),t.Parent.Childs.push(t)}).catch(function(t){e.$message.error(\"新建员工失败: \"+t)}):this.$message.error(\"请选择非员工上级节点\"):this.$message.error(\"请先选择上级节点\")},n.prototype.onSave=function(){if(this.orgUnitView){var e=this.$refs.ouview.save;e&&\"function\"==typeof e&&e()}},n.prototype.onDelete=function(){var e=this;this.currentOrgUnit?this.currentOrgUnit.ParentId?this.currentOrgUnit.Childs&&this.currentOrgUnit.Childs.length>0?this.$message.error(\"不能删除具有子节点的节点\"):this.$confirm(\"此操作将永久删除该节点, 是否继续?\",\"提示\",{confirmButtonText:\"确定\",cancelButtonText:\"取消\",type:\"warning\"}).then(function(){$runtime.channel.invoke(\"sys.OrgUnitService.DeleteOrgUnit\",[e.currentOrgUnit.Id]).then(function(t){var r=e.currentOrgUnit.Parent,n=r.Childs.findIndex(function(t){return t.Id==e.currentOrgUnit.Id});r.Childs.splice(n,1)}).catch(function(t){e.$message.error(\"删除节点失败: \"+t)})}).catch(function(){}):this.$message.error(\"不能删除根节点\"):this.$message.error(\"请先选择待删除节点\")},n.prototype.mounted=function(){var e=this;$runtime.channel.invoke(\"sys.OrgUnitService.LoadTreeList\",[]).then(function(t){e.orgUnitNodes=$runtime.channel.resolveObjRef(t),e.onCurrentChanged(e.orgUnitNodes[0])})},n=r([Component({components:{PermissionTree:View(\"sys.PermissionTree\")}})],n)}(Vue);return e.default=n,e.default.options.render=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r(\"div\",{staticClass:\"view\"},[r(\"el-button-group\",[r(\"el-button\",{attrs:{type:\"primary\",icon:\"fas fa-folder\"},on:{click:e.onCreateWorkgroup}},[e._v(\" 新建组\")]),e._v(\" \"),r(\"el-button\",{attrs:{type:\"primary\",icon:\"fas fa-user\"},on:{click:e.onCreateEmploee}},[e._v(\" 新建员工\")]),e._v(\" \"),r(\"el-button\",{attrs:{type:\"primary\",icon:\"fas fa-save\"},on:{click:e.onSave}},[e._v(\" 保存\")]),e._v(\" \"),r(\"el-button\",{attrs:{type:\"primary\",icon:\"fas fa-trash\"},on:{click:e.onDelete}},[e._v(\" 删除\")])],1),e._v(\" \"),r(\"ex-splitter\",{staticClass:\"body\",attrs:{\"pin-second\":!1,size:280,\"handler-color\":\"\"}},[r(\"div\",{staticClass:\"tree\",attrs:{slot:\"panel1\"},slot:\"panel1\"},[r(\"el-tree\",{ref:\"outree\",attrs:{data:e.orgUnitNodes,\"node-key\":\"Id\",props:e.orgUnitTreeProps,\"highlight-current\":\"\",\"default-expand-all\":\"\",\"expand-on-click-node\":!1},on:{\"current-change\":e.onCurrentChanged},scopedSlots:e._u([{key:\"default\",fn:function(t){var n=t.node,i=t.data;return r(\"span\",{staticClass:\"el-tree-node__label\"},[r(\"i\",{class:e.getIcon(i,n)}),e._v(\" \"+e._s(n.label)+\"\\r\\n                \")])}}])})],1),e._v(\" \"),r(\"el-tabs\",{attrs:{slot:\"panel2\",value:\"tbProperty\",type:\"border-card\"},slot:\"panel2\"},[r(\"el-tab-pane\",{attrs:{label:\"组织单元属性\",name:\"tbProperty\"}},[r(e.orgUnitView,{ref:\"ouview\",tag:\"component\",attrs:{orgUnit:e.currentOrgUnit}})],1),e._v(\" \"),r(\"el-tab-pane\",{attrs:{label:\"权限设置\",name:\"tbPermission\"}},[r(\"permission-tree\",{attrs:{orgunit:e.currentOrgUnit}})],1)],1)],1)],1)},e.default.options.staticRenderFns=[],e.default.options._scopeId=\"data-v-7018ae35\",e.default;",
    "Style": ".view[data-v-7018ae35] {height: 100%;background: #F3F3F3;}.body[data-v-7018ae35] {height: calc(100% - 46px);margin-top: 10px;box-sizing: border-box;}.body[data-v-7018ae35] .el-tabs {height: 100%;box-sizing: border-box;}.body[data-v-7018ae35] .el-tabs > .el-tabs__content {height: calc(100% - 42px);padding: 0px;}.body[data-v-7018ae35] .el-tabs > .el-tabs__content > .el-tab-pane {height: 100%;}.tree[data-v-7018ae35] {overflow: auto;border: 1px solid #D1DBE4;height: 100%;background: white;box-sizing: border-box;}.view[data-v-7018ae35] .el-tree {background: none;border: none;}/* .tree>>>.el-tree-node__content {background: #f3f3f3;} */.tree[data-v-7018ae35] .el-tree--highlight-current .el-tree-node.is-current > .el-tree-node__content {background: #b3b3b3;}.tree[data-v-7018ae35] .el-tree-node__content:hover {background: #e3e3e3;}"
}