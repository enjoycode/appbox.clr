{
    "Code": "var t={},e=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),o=this&&this.__decorate||function(t,e,o,n){var r,s=arguments.length,c=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(s<3?r(c):s>3?r(e,o,c):r(e,o))||c);return s>3&&c&&Object.defineProperty(e,o,c),c};t.__esModule=!0;var n=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.prototype.loadNodes=function(){var t=this;$runtime.channel.invoke(\"sys.ClusterService.GetNodes\",[]).then(function(e){t.nodes=e,t.$forceUpdate()}).catch(function(e){t.$message.error(\"加载异常:\"+e)})},n.prototype.gotoNode=function(t){this.$router.push(\"/ops/v/metrics/\"+t)},n.prototype.setAsMeta=function(t){var e=this,o=[t.PeerId,t.IPAddress,t.Port];$runtime.channel.invoke(\"sys.ClusterService.SetAsMeta\",o).then(function(t){}).catch(function(t){e.$message.error(\"设置MetaNode异常:\"+t)})},n.prototype.promoteRF=function(){var t=this;$runtime.channel.invoke(\"sys.ClusterService.PromoteReplFactor\",[]).then(function(e){t.$message.success(\"提升副本因子成功，请稍候检查后台任务是否完成\")}).catch(function(e){t.$message.error(\"提升副本因子异常:\"+e)})},n.prototype.mounted=function(){this.loadNodes()},n=o([Component],n)}(Vue);return t.default=n,t.default.options.render=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o(\"div\",[o(\"div\",{staticStyle:{background:\"#F5F7FA\"}},[o(\"el-button\",{attrs:{type:\"text\",icon:\"el-icon-upload2\"},on:{click:t.promoteRF}},[t._v(\"提升副本因子\")]),t._v(\" \"),o(\"el-button\",{attrs:{type:\"text\",icon:\"el-icon-refresh\"},on:{click:t.loadNodes}},[t._v(\"刷新\")])],1),t._v(\" \"),o(\"el-table\",{attrs:{data:t.nodes,border:\"\",\"highlight-current-row\":\"\",readonly:\"\"}},[o(\"el-table-column\",{attrs:{prop:\"PeerId\",label:\"PeerId\"}}),t._v(\" \"),o(\"el-table-column\",{attrs:{prop:\"IPAddress\",label:\"IPAddress\"}}),t._v(\" \"),o(\"el-table-column\",{attrs:{prop:\"RaftNodes\",label:\"RaftNodes\"}}),t._v(\" \"),o(\"el-table-column\",{attrs:{label:\"IsMeta\",width:\"100\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[e.row.IsMeta?o(\"el-tag\",[t._v(\"MetaNode\")]):t._e()]}}])}),t._v(\" \"),o(\"el-table-column\",{attrs:{fixed:\"right\",label:\"Actions\",width:\"180\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[o(\"el-button\",{attrs:{type:\"text\",size:\"small\"},on:{click:function(o){t.gotoNode(e.row.IPAddress)}}},[t._v(\"Metrics\")]),t._v(\" \"),e.row.IsMeta?t._e():o(\"el-button\",{attrs:{type:\"text\",size:\"small\"},on:{click:function(o){t.setAsMeta(e.row)}}},[t._v(\"SetAsMeta\")])]}}])})],1)],1)},t.default.options.staticRenderFns=[],t.default;",
    "Style": ""
}