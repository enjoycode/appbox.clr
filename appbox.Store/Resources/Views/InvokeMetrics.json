{
  "Code": "var t={},e=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function a(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),r=this&&this.__decorate||function(t,e,r,a){var o,s=arguments.length,i=s<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,r):a;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)i=Reflect.decorate(t,e,r,a);else for(var n=t.length-1;n>=0;n--)(o=t[n])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i};t.__esModule=!0;var a=function(t){function a(){var e=null!==t&&t.apply(this,arguments)||this;return e.times=[new Date(2019,1,1),new Date(2019,1,2)],e.topcount=[],e.toptimes=[],e.chartOpt1={tooltip:{trigger:\"item\",formatter:\"{a} <br/>{b} : {c} ({d}%)\"},series:[{name:\"调用次数\",type:\"pie\",radius:\"56%\",data:[],itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:\"rgba(0, 0, 0, 0.5)\"}}}]},e.chartOpt2={tooltip:{trigger:\"item\",formatter:\"{a} <br/>{b} : {c} ({d}%)\"},series:[{name:\"调用耗时\",type:\"pie\",radius:\"56%\",data:[],itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:\"rgba(0, 0, 0, 0.5)\"}}}]},e}return e(a,t),a.prototype.refresh=function(){var t=this;$runtime.channel.invoke(\"sys.MetricService.GetTopInvoke\",[!0,this.times[0],this.times[1],10]).then(function(e){var r=JSON.parse(e);\"success\"!=r.status?t.$message.error(\"查询调用次数排名失败\"):(t.topcount=r.data.result,t.chartOpt1.series[0].data=t.convertToChartData(t.topcount))}).catch(function(e){t.$message.error(e)}),$runtime.channel.invoke(\"sys.MetricService.GetTopInvoke\",[!1,this.times[0],this.times[1],10]).then(function(e){var r=JSON.parse(e);\"success\"!=r.status?t.$message.error(\"查询调用耗时排名失败\"):(t.toptimes=r.data.result,t.chartOpt2.series[0].data=t.convertToChartData(t.toptimes))}).catch(function(e){t.$message.error(e)})},a.prototype.convertToChartData=function(t){for(var e=[],r=0;r<t.length;++r)e.push({name:t[r].metric.method,value:t[r].value[1]});return e},a.prototype.onTimesChange=function(){this.refresh()},a.prototype.mounted=function(){this.refresh()},a.prototype.created=function(){var t=new Date,e=new Date;e.setTime(e.getTime()-36e5),this.$set(this.times,0,e),this.$set(this.times,1,t)},a=r([Component],a)}(Vue);return t.default=a,t.default.options.render=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r(\"div\",[r(\"div\",[t._v(\"\\n\\t\\tTimes:\\n\\t\\t\"),r(\"el-date-picker\",{attrs:{size:\"small\",type:\"datetimerange\",\"picker-options\":t.timesOptions,clearable:!1},on:{change:t.onTimesChange},model:{value:t.times,callback:function(e){t.times=e},expression:\"times\"}})],1),t._v(\" \"),r(\"br\"),t._v(\" \"),r(\"el-row\",{attrs:{gutter:10}},[r(\"el-col\",{attrs:{span:12}},[r(\"el-card\",[r(\"div\",{staticClass:\"clearfix\",attrs:{slot:\"header\"},slot:\"header\"},[r(\"span\",[t._v(\"调用次数排名\")])]),t._v(\" \"),r(\"v-chart\",{staticStyle:{height:\"280px\"},attrs:{autoresize:\"\",options:t.chartOpt1}}),t._v(\" \"),r(\"el-table\",{attrs:{data:t.topcount,border:\"\"}},[r(\"el-table-column\",{attrs:{prop:\"metric.method\",label:\"Method\"}}),t._v(\" \"),r(\"el-table-column\",{attrs:{prop:\"value[1]\",label:\"Count\",width:\"80\",align:\"right\"}})],1)],1)],1),t._v(\" \"),r(\"el-col\",{attrs:{span:12}},[r(\"el-card\",[r(\"div\",{staticClass:\"clearfix\",attrs:{slot:\"header\"},slot:\"header\"},[r(\"span\",[t._v(\"调用耗时排名\")])]),t._v(\" \"),r(\"v-chart\",{staticStyle:{height:\"280px\"},attrs:{autoresize:\"\",options:t.chartOpt2}}),t._v(\" \"),r(\"el-table\",{attrs:{data:t.toptimes,border:\"\"}},[r(\"el-table-column\",{attrs:{prop:\"metric.method\",label:\"Method\"}}),t._v(\" \"),r(\"el-table-column\",{attrs:{prop:\"value[1]\",label:\"Times\",width:\"80\",align:\"right\"}})],1)],1)],1)],1)],1)},t.default.options.staticRenderFns=[],t.default;",
  "Style": ""
}